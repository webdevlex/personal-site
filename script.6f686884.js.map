{"version":3,"sources":["script.js"],"names":["getElement","className","document","querySelector","test","remove","toggleLockScroll","window","scrollTo","setTimeout","mobileMenuButton","addEventListener","toggleMenu","menuOpen","toggleFade","animateMenuButton","classList","toggle","getElementsByTagName","navbar","handleNavbarClick","id","buttonIsScroller","smoothScrollTo","section","pos","getPosOf","scrollObject","top","getBoundingClientRect","scrollY","left","behavior","toggleContactWindow","toggleSlideIn","toggleBackground","contactWindow","contains","add","shiftLeft","temporarlyTurnOffPointerEvents","leftProject","centerProject","rightProject","shiftLeftProjectToCenter","shiftCenterProjectToRight","shiftRightProjectToLeft","rotateIfLogoNotFacingUser","getAttribute","toggleRotate","shiftRight","shiftLeftProjectToRight","shiftCenterProjectToLeft","shiftRightProjectToCenter","turnOffPointerEvents","turnOnPointerEvents","querySelectorAll","forEach","button","style","pointerEvents","scroller","e","target","projects","handleProjectClicked","viewportWidth","getViewportWidth","projectClicked","centerProjectClicked","leftProjectClicked","rightProjectClicked","element","setAttribute","Math","max","documentElement","clientWidth","innerWidth","project","fadeInOptions","root","threshold","rootMargin","fadeInObserver","IntersectionObserver","entries","entry","alreadyFadedIn","isIntersecting","console","log","fadeInSection","el","observe","intersectionButtons","contactButton","options","observer","attemptToSendEmail","form","fields","name","elements","value","email","subject","message","errorsExist","Object","field","validateField","resetAnimation","startLoadingAnimation","messageFailed","status","text","sendEmail","fieldName","validateEmail","removeError","markFieldAsError","re","String","toLowerCase","parentNode","params","emailjs","send","then","response","messageSuccess","error","sendNotification","delaySuccessAnimation","delayCloseContactWindow","delayClearInputs","delayResetAnimation","delay","successAnimation","loader","check","clearInputs","exclamation","delayFailedAnimation","failedAnimation","slideIn"],"mappings":"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","file":"script.6f686884.js","sourceRoot":"..\\src","sourcesContent":["// Scrolls to top on landing or refresh\r\nwindow.scrollTo(0, 0);\r\n\r\n// helpers\r\nfunction getElement(className) {\r\n\treturn document.querySelector(className);\r\n}\r\n\r\ntoggleLockScroll();\r\nsetTimeout(test, 6000);\r\n\r\nfunction test() {\r\n\tdocument.querySelector('.intro-container').remove();\r\n\ttoggleLockScroll();\r\n}\r\n\r\n// Setup mobile menu button to open on click\r\nconst mobileMenuButton = getElement('.mobile-menu-button');\r\nmobileMenuButton.addEventListener('click', () => toggleMenu());\r\n\r\nlet menuOpen = false;\r\nfunction toggleMenu() {\r\n\tmenuOpen = !menuOpen;\r\n\ttoggleFade();\r\n\tanimateMenuButton();\r\n\ttoggleLockScroll();\r\n}\r\n\r\nfunction toggleFade() {\r\n\tgetElement('.navbar-menu').classList.toggle('fade');\r\n}\r\n\r\nfunction animateMenuButton() {\r\n\tgetElement('.top-line').classList.toggle('animate-top-line');\r\n\tgetElement('.bottom-line').classList.toggle('animate-bottom-line');\r\n}\r\n\r\nfunction toggleLockScroll() {\r\n\tlet body = document.getElementsByTagName('body')[0];\r\n\tbody.classList.toggle('stop-scrolling');\r\n}\r\n\r\n// Setup navigation buttons to scroll to section on click\r\nconst navbar = getElement('.navbar-menu');\r\nnavbar.addEventListener('click', (e) => handleNavbarClick(e.target.id));\r\n\r\nfunction handleNavbarClick(id) {\r\n\tif (buttonIsScroller(id)) {\r\n\t\tlet section = `.home-${id}`;\r\n\t\tsmoothScrollTo(section);\r\n\t}\r\n}\r\n\r\nfunction buttonIsScroller(id) {\r\n\treturn id !== 'contact';\r\n}\r\n\r\nfunction smoothScrollTo(section) {\r\n\tif (menuOpen) toggleMenu();\r\n\tlet pos = getPosOf(section);\r\n\twindow.scrollTo(pos);\r\n}\r\n\r\nfunction getPosOf(section) {\r\n\tlet element = getElement(section);\r\n\tlet pos = element.getBoundingClientRect().top + window.scrollY;\r\n\tlet scrollObject = { top: pos, left: 0, behavior: 'smooth' };\r\n\treturn scrollObject;\r\n}\r\n\r\n// Setup contact window buttons to open contact form when clicked\r\ndocument\r\n\t.querySelectorAll('.contact-btn')\r\n\t.forEach((button) =>\r\n\t\tbutton.addEventListener('click', () => toggleContactWindow())\r\n\t);\r\n\r\nfunction toggleContactWindow() {\r\n\ttoggleSlideIn();\r\n\ttoggleLockScroll();\r\n\ttoggleBackground();\r\n}\r\n\r\nfunction toggleSlideIn() {\r\n\tconst contactWindow = getElement('.contact-container');\r\n\tif (contactWindow.classList.contains('hide-contact')) {\r\n\t\tcontactWindow.classList.remove('hide-contact');\r\n\t\tcontactWindow.classList.add('slide-in');\r\n\t} else {\r\n\t\tcontactWindow.classList.add('hide-contact');\r\n\t\tcontactWindow.classList.remove('slide-in');\r\n\t}\r\n}\r\n\r\nfunction toggleBackground() {\r\n\tgetElement('.contact-bg').classList.toggle('show-bg');\r\n}\r\n\r\n// Setup projects carousel to shift left or right on click\r\ndocument\r\n\t.querySelectorAll('.left-scroller')\r\n\t.forEach((scroller) => scroller.addEventListener('click', () => shiftLeft()));\r\ndocument\r\n\t.querySelectorAll('.right-scroller')\r\n\t.forEach((scroller) =>\r\n\t\tscroller.addEventListener('click', () => shiftRight())\r\n\t);\r\n\r\nfunction shiftLeft() {\r\n\t// rotateIfLogoNotFacingUser();\r\n\ttemporarlyTurnOffPointerEvents();\r\n\r\n\tconst leftProject = getElement('.left-project');\r\n\tconst centerProject = getElement('.center-project');\r\n\tconst rightProject = getElement('.right-project');\r\n\r\n\tshiftLeftProjectToCenter(leftProject);\r\n\tshiftCenterProjectToRight(centerProject);\r\n\tshiftRightProjectToLeft(rightProject);\r\n}\r\n\r\nfunction rotateIfLogoNotFacingUser() {\r\n\tconst centerProject = document.querySelector('.center-project');\r\n\tconst logoFacingUser = centerProject.getAttribute('isLogoFacingUser');\r\n\r\n\tif (logoFacingUser === 'false') {\r\n\t\ttoggleRotate(centerProject);\r\n\t}\r\n}\r\n\r\nfunction shiftLeftProjectToCenter(leftProject) {\r\n\tleftProject.classList.remove('left-project');\r\n\tleftProject.classList.add('center-project');\r\n}\r\n\r\nfunction shiftCenterProjectToRight(centerProject) {\r\n\tcenterProject.classList.remove('center-project');\r\n\tcenterProject.classList.add('right-project');\r\n}\r\n\r\nfunction shiftRightProjectToLeft(rightProject) {\r\n\trightProject.classList.remove('right-project');\r\n\trightProject.classList.add('left-project');\r\n}\r\n\r\nfunction shiftRight() {\r\n\t// rotateIfLogoNotFacingUser();\r\n\ttemporarlyTurnOffPointerEvents();\r\n\r\n\tconst leftProject = getElement('.left-project');\r\n\tconst centerProject = getElement('.center-project');\r\n\tconst rightProject = getElement('.right-project');\r\n\r\n\tshiftLeftProjectToRight(leftProject);\r\n\tshiftCenterProjectToLeft(centerProject);\r\n\tshiftRightProjectToCenter(rightProject);\r\n}\r\n\r\nfunction shiftLeftProjectToRight(leftProject) {\r\n\tleftProject.classList.remove('left-project');\r\n\tleftProject.classList.add('right-project');\r\n}\r\n\r\nfunction shiftCenterProjectToLeft(centerProject) {\r\n\tcenterProject.classList.remove('center-project');\r\n\tcenterProject.classList.add('left-project');\r\n}\r\n\r\nfunction shiftRightProjectToCenter(rightProject) {\r\n\trightProject.classList.remove('right-project');\r\n\trightProject.classList.add('center-project');\r\n}\r\n\r\nfunction temporarlyTurnOffPointerEvents() {\r\n\tturnOffPointerEvents();\r\n\tsetTimeout(() => turnOnPointerEvents(), 600);\r\n}\r\n\r\nfunction turnOffPointerEvents() {\r\n\tdocument\r\n\t\t.querySelectorAll('.scroll-button')\r\n\t\t.forEach((button) => (button.style.pointerEvents = 'none'));\r\n\tdocument\r\n\t\t.querySelectorAll('.scroller')\r\n\t\t.forEach((scroller) => (scroller.style.pointerEvents = 'none'));\r\n}\r\n\r\nfunction turnOnPointerEvents() {\r\n\tdocument\r\n\t\t.querySelectorAll('.scroll-button')\r\n\t\t.forEach((button) => (button.style.pointerEvents = 'all'));\r\n\tdocument\r\n\t\t.querySelectorAll('.scroller')\r\n\t\t.forEach((scroller) => (scroller.style.pointerEvents = 'all'));\r\n}\r\n\r\n// Setup center project to rotate on hover and click\r\nconst projects = document.querySelectorAll('.project');\r\n\r\nprojects.forEach((project) => {\r\n\tproject.setAttribute('isLogoFacingUser', true);\r\n\tproject.addEventListener('click', (e) => handleProjectClicked(e));\r\n});\r\n\r\nfunction handleProjectClicked(e) {\r\n\tconst viewportWidth = getViewportWidth();\r\n\tconst projectClicked = e.target;\r\n\tconst centerProjectClicked =\r\n\t\tprojectClicked.classList.contains('center-project');\r\n\r\n\tif (viewportWidth < 576 || centerProjectClicked) {\r\n\t\ttoggleRotate(projectClicked);\r\n\t} else {\r\n\t\tconst leftProjectClicked =\r\n\t\t\tprojectClicked.classList.contains('left-project');\r\n\t\tconst rightProjectClicked =\r\n\t\t\tprojectClicked.classList.contains('right-project');\r\n\r\n\t\tif (leftProjectClicked) {\r\n\t\t\tshiftLeft();\r\n\t\t} else if (rightProjectClicked) {\r\n\t\t\tshiftRight();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction toggleRotate(element) {\r\n\tconst logoFacingUser = element.getAttribute('isLogoFacingUser');\r\n\tif (logoFacingUser == 'true') {\r\n\t\telement.setAttribute('isLogoFacingUser', false);\r\n\t} else {\r\n\t\telement.setAttribute('isLogoFacingUser', true);\r\n\t}\r\n\tconst elementToRotate = element.querySelector('.project-rotater');\r\n\telementToRotate.classList.toggle('rotate');\r\n}\r\n\r\nfunction getViewportWidth() {\r\n\treturn Math.max(\r\n\t\tdocument.documentElement.clientWidth || 0,\r\n\t\twindow.innerWidth || 0\r\n\t);\r\n}\r\n// Sections fade-in on scroll\r\nconst fadeInOptions = {\r\n\troot: null,\r\n\tthreshold: 0.1,\r\n\trootMargin: '-150px',\r\n};\r\n\r\nconst fadeInObserver = new IntersectionObserver((entries) => {\r\n\tentries.forEach((entry) => {\r\n\t\tconst alreadyFadedIn = entry.target.classList.contains('section-fade-in');\r\n\t\tif (entry.isIntersecting && !alreadyFadedIn) {\r\n\t\t\tconsole.log(entry);\r\n\t\t\tentry.target.classList.add('section-fade-in');\r\n\t\t}\r\n\t});\r\n}, fadeInOptions);\r\n\r\nconst fadeInSection = document.querySelectorAll('.section-fade');\r\nfadeInSection.forEach((el) => fadeInObserver.observe(el));\r\n\r\n// Setup up bottom right contact button to show when no other contact buttons are on screen\r\nconst intersectionButtons = document.querySelectorAll('.intersection');\r\nconst contactButton = getElement('.contact-button');\r\n\r\nconst options = {\r\n\troot: null,\r\n\tthreshold: 0,\r\n\trootMargin: '0px',\r\n};\r\n\r\nconst observer = new IntersectionObserver((entries, observer) => {\r\n\tentries.forEach((entry) => {\r\n\t\tcontactButton.classList.toggle('show-contact-button');\r\n\t});\r\n}, options);\r\n\r\nintersectionButtons.forEach((button) => {\r\n\tobserver.observe(button);\r\n});\r\n\r\n// Setup for send email button\r\ndocument\r\n\t.querySelector('.send-button')\r\n\t.addEventListener('click', () => attemptToSendEmail());\r\n\r\nfunction attemptToSendEmail() {\r\n\tconst form = document.querySelector('.form');\r\n\tconst name = form.elements['name'].value;\r\n\tconst email = form.elements['email'].value;\r\n\tconst subject = form.elements['subject'].value;\r\n\tconst message = form.elements['message'].value;\r\n\tlet fields = { name, email, subject, message };\r\n\tlet errorsExist = false;\r\n\r\n\tObject.entries(fields).forEach((field) => {\r\n\t\tconst fieldError = validateField(field);\r\n\t\tif (fieldError) {\r\n\t\t\terrorsExist = true;\r\n\t\t}\r\n\t});\r\n\r\n\tresetAnimation();\r\n\tstartLoadingAnimation();\r\n\tif (!errorsExist) {\r\n\t\tsendEmail(fields);\r\n\t} else {\r\n\t\tmessageFailed({ status: 0, text: 'Missing required field' });\r\n\t}\r\n}\r\n\r\nfunction validateField(field) {\r\n\tconst fieldName = field[0];\r\n\tconst value = field[1];\r\n\r\n\tif (!value) {\r\n\t\tmarkFieldAsError(fieldName);\r\n\t\treturn fieldName;\r\n\t} else if (fieldName === 'email' && !validateEmail(value)) {\r\n\t\tmarkFieldAsError(fieldName);\r\n\t\treturn fieldName;\r\n\t} else {\r\n\t\tremoveError(fieldName);\r\n\t}\r\n}\r\n\r\nfunction validateEmail(email) {\r\n\tconst re =\r\n\t\t/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\treturn re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction markFieldAsError(fieldName) {\r\n\tconst form = document.querySelector('.form');\r\n\tform.elements[fieldName].parentNode.classList.add('error');\r\n}\r\n\r\nfunction removeError(fieldName) {\r\n\tconst form = document.querySelector('.form');\r\n\tform.elements[fieldName].parentNode.classList.remove('error');\r\n}\r\n\r\nfunction sendEmail(params) {\r\n\temailjs.send('default_service', 'template_vr6w86n', params).then(\r\n\t\t(response) => messageSuccess(response, params),\r\n\t\t(error) => messageFailed(error)\r\n\t);\r\n}\r\n\r\nfunction startLoadingAnimation() {\r\n\tlet loader = document.querySelector('.loader');\r\n\tloader.classList.add('active');\r\n}\r\n\r\nfunction messageSuccess(response, params) {\r\n\tconsole.log('Email sent successfully!');\r\n\tsendNotification(params);\r\n\tdelaySuccessAnimation(0);\r\n\tdelayCloseContactWindow(1500);\r\n\tdelayClearInputs(2500);\r\n\tdelayResetAnimation(2000);\r\n}\r\n\r\nfunction sendNotification(params) {\r\n\temailjs.send('default_service', 'template_tzksk1i', params).then(\r\n\t\t() => console.log('Notification sent successfully!'),\r\n\t\t() => console.log('Notification failed to send...')\r\n\t);\r\n}\r\n\r\nfunction delaySuccessAnimation(delay) {\r\n\tsetTimeout(function () {\r\n\t\tsuccessAnimation();\r\n\t}, delay);\r\n}\r\n\r\nfunction successAnimation() {\r\n\tlet loader = document.querySelector('.loader');\r\n\tlet check = document.querySelector('.check');\r\n\tloader.classList.add('success');\r\n\tcheck.classList.add('active');\r\n}\r\n\r\nfunction delayCloseContactWindow(delay) {\r\n\tsetTimeout(function () {\r\n\t\ttoggleContactWindow();\r\n\t}, delay);\r\n}\r\n\r\nfunction delayClearInputs(delay) {\r\n\tsetTimeout(function () {\r\n\t\tclearInputs();\r\n\t}, delay);\r\n}\r\n\r\nfunction clearInputs() {\r\n\tconst form = document.querySelector('.form');\r\n\tform.elements['name'].value = '';\r\n\tform.elements['email'].value = '';\r\n\tform.elements['subject'].value = '';\r\n\tform.elements['message'].value = '';\r\n}\r\n\r\nfunction delayResetAnimation(delay) {\r\n\tsetTimeout(function () {\r\n\t\tresetAnimation();\r\n\t}, delay);\r\n}\r\n\r\nfunction resetAnimation() {\r\n\tconst loader = document.querySelector('.loader');\r\n\tconst exclamation = document.querySelector('.exclamation');\r\n\tconst check = document.querySelector('.check');\r\n\tconst contactWindow = document.querySelector('.contact-container');\r\n\r\n\tloader.classList.remove('active');\r\n\tloader.classList.remove('success');\r\n\tloader.classList.remove('failed');\r\n\texclamation.classList.remove('active');\r\n\tcheck.classList.remove('active');\r\n\tcontactWindow.classList.remove('errors');\r\n}\r\n\r\nfunction messageFailed(error) {\r\n\tconsole.log('Email failed to send...');\r\n\tdelayFailedAnimation(10);\r\n}\r\n\r\nfunction delayFailedAnimation(delay) {\r\n\tsetTimeout(function () {\r\n\t\tfailedAnimation();\r\n\t}, delay);\r\n}\r\n\r\nfunction failedAnimation() {\r\n\tlet slideIn = document.querySelector('.slide-in');\r\n\tlet loader = document.querySelector('.loader');\r\n\tlet exclamation = document.querySelector('.exclamation');\r\n\texclamation.classList.add('active');\r\n\tloader.classList.add('failed');\r\n\tslideIn.classList.add('errors');\r\n}\r\n"]}